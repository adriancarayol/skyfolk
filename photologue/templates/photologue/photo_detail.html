{% extends 'account/base_interface.html' %}
{% load avatar_tags %}
{% load photologue_tags i18n %}
{% load i18n %}
{% load humanize %}
{% block title %} <title>{{ object.title }} por: {{ object.owner }}</title> {% endblock %}

{% block include_files %}
    <link rel="stylesheet" href="{{STATIC_URL}}css/gallery.css" onload="if(media!='all')media='all'"> <!-- Estilos para la galeria de fotos -->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/photo_detail.css" onload="if(media!='all')media='all'"> <!-- Estilos para el contenedor de la imagen -->
{% endblock %}

{% block content %}
<div class="container">
<div class="row">
        <div class="col l12 m12 s12 container-photo">
            <div class="photo">
                    <div class="col l8 m12 s12 photo-body" data-id="{{ object.pk }}">
                     <a href="{{ object.image.url }}">
                         <img src="{{ object.image.url }}" class="thumbnail" alt="{{ object.title }}">
                     </a>
                        <div class="col l12 photo-details">
                                <div class="legend-user-image">
                                    {% avatar object.owner.username %}
                                </div>
                                <div class="col l8 m8 s8 legend-user-data">
                                    <a href="/profile/{{ object.owner.username }}">@{{ object.owner.username }}</a>
                                    <i class="photo-title">{{ object.title }}{% if object.caption %}<p>{{ object.caption|safe }} </p>{% endif %}</i>
                                    <i class="photo-date"><i class="fa fa-clock-o" aria-hidden="true"></i> {% trans "Published" %} {{ object.date_added|naturaltime }}</i>
                                </div>
                                <div class="col l12 m12 s12 tags-content">
                                    {% for tag in photo.tags.all %}
                                            <blockquote>{{ tag.name }}</blockquote>
                                    {% endfor %}
                                </div>
                        </div>
                    {% if request.user.pk == object.owner_id %}
                        <div class="row">
                            <div class="col s12">
                                <div class="divider"></div>
                                <div class="row">
                                    <div class="author-controls">
                                        <a class="waves-effect waves-light btn right green">Editar</a>
                                        <a id="del-photo" class="waves-effect waves-light btn right red">Eliminar</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    </div>
                    <div class="gallery-details">
                      {% if object.public_galleries %}
                            <p>{% trans "This photo is found in the following galleries" %}:</p>
                            <table>
                                {% for gallery in object.public_galleries %}
                                    <tr>
                                        <td>{% previous_in_gallery object gallery %}</td>
                                        <td class="text-center"><a href="{{ gallery.get_absolute_url }}">{{ gallery.title }}</a></td>
                                        <td>{% next_in_gallery object gallery %}</td>
                                    </tr>
                        {% endfor %}
                    </table>
                {% endif %}
                    </div>
            <div class="col l4 m12 s12 photo-messages">
                <h1>Comentarios</h1>
            </div>
            </div>
        </div>
</div>
</div>
    <script async src="{{STATIC_URL}}js/photo_gallery.js" type="text/javascript"></script>
{% endblock %}
