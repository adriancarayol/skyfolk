{% comment %}
Base para la interfaz en comun de todos los usuarios.
{% endcomment %}
{% load static %}
{% load compress %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Mi perfil">
    <meta name="keywords" content="Mi perfil, Mensajes, Amigos, Seguidores, Comentarios">
    <meta name="viewport" content="width=device-width, maximum-scale=3, minimum-scale=0.5">
    <meta content="text/html; charset=UTF-8"/>
    {% compress css %}
    <link rel="stylesheet" type="text/css" href="{% static "css/core.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "css/materialize.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "css/buscar.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "fonts/iconfont/material-icons.css" %}">
    <link href="{% static "tellme/feedback.min.css" %}" rel="stylesheet">

    {% endcompress %}
    <link rel="icon" type="image/ico" href="{% static "img/favicon.ico" %}"/>
    {% compress js %}
    <script src="{% static "js/jquery-3.1.0.min.js" %}" type="text/javascript"></script>
    <script src="{% static "js/jquery-migrate-1.4.1.min.js" %}" type="text/javascript"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-72424818-2', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="{% static "js/lazysizes.min.js" %}" async=""></script>
    <script src="{% static "js/jquery.waypoints.min.js" %}"></script>
    <script src="{% static "js/infinite.min.js" %}"></script>
    <script src="{% static "js/masonry.pkgd.min.js" %}"></script>
    <script src="{% static "js/imagesloaded.pkgd.min.js" %}"></script>
    {% endcompress %}
    {% block title %} <title>Skyfolk - Bienvenido.</title> {% endblock %}
    {% block extra-js %}{% endblock %}
    <!-- bloques de estilos para cada pagina -->
    {% block extra-css %}{% endblock %}
    {% block include_files %}
    {% endblock %}
</head>
<body>

    {% block barra_navegacion %}
    {% include "account/base-header.html" %}
    {% comment %} Para el feedback {% endcomment %}
    <button type="button" id="feedback-btn" class="btn right red lighten-3 black-text">
        Feedback <span class="glyphicon glyphicon-bullhorn" aria-hidden="true"></span>
    </button>
    {% endblock %}
    {% block content %}
    <!-- Contenido de cada pagina por separado -->
    {% endblock %}
    {% if user.is_authenticated %}
    {% block compose-div-message %}
    {% comment "Componer mensaje" %}
    Componer mensaje para perfil ajeno
    {% endcomment %}
    {% if publicationForm and user_profile.pk != user.pk %}
    <div class="row">
        <div id="page-wrapper" class="col l5 m12 s12 default-div compose-div" style="display:none;">
            <div class="row">
                <div class="col s12 title-page-wrapper">
                    {% if user == user_profile %}
                    <h4><i class="material-icons left">send</i>Publicar comentario</h4>
                    <h6>Publica un comentario para que el mundo lo vea.</h6>
                    {% else %}
                    <h4><i class="material-icons left">send</i> Escribe algo a: {{ user_profile.username }}
                    </h4>
                    <h6>Escribe un mensaje en el tablón de {{ user_profile.username }}.</h6>
                    {% endif %}
                </div>
            </div>
            <form id="message-form2" method="post" enctype="multiple/form-data">{% csrf_token %}
                <div class="row">
                    <div class="row">
                        <div class="input-field col s12">
                            <textarea class="materialize-textarea" cols="40" data-length="500" id="message3"
                            maxlength="500" name="content" placeholder="Escribe tu mensaje aqui..."
                            rows="10" required=""></textarea>
                            <label for="message3">Escribe tu mensaje</label>
                        </div>
                    </div>
                </div>
                <input id="author" name="author" type="hidden" value="{{ request.user.id }}">
                <input id="board_owner" name="board_owner" type="hidden" value="{{ user_profile.id }}">
                <input id="parent" name="parent" type="hidden">
                <div class="row">
                    <div class="col s12">
                        <button type="submit" id="sendformpubli"
                        class="waves-effect waves-light btn right blue">
                        Enviar<i class="material-icons right">send</i></button>
                        <button type="button"
                        class="waves-effect waves-light btn right transparent black-text close">Cerrar<i
                        class="material-icons right">close</i></button>
                        <div class="file-field">
                            <div class="btn blue lighten-2">
                                <span><i class="material-icons md-24">photo_camera</i></span>
                                <input id="id_image" name="image" type="file" multiple>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text"
                                placeholder="Subir imágenes o videos">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    {% endif %}
    {% comment "Componer mensaje" %}
    Componer mensaje para mi propio perfil.
    {% endcomment %}
    <div class="row">
        <div id="self-page-wrapper" class="col l5 m12 s12 default-div compose-div" style="display:none;">
            <div class="row">
                <div class="col s12 title-page-wrapper">
                    <h4><i class="material-icons left">send</i>Publicar comentario</h4>
                    <h6>Publica un comentario para que el mundo lo vea.</h6>
                </div>
            </div>
            <form id="message-form3" method="post" enctype="multipart/form-data">{% csrf_token %}
                <div class="row">
                    <div class="row">
                        <div class="input-field col s12">
                            <textarea class="materialize-textarea" cols="40" data-length="500" id="message2"
                            maxlength="500" name="content" placeholder="Escribe tu mensaje aqui..."
                            rows="10" required=""></textarea>
                            <label for="message2">Escribe tu mensaje</label>
                        </div>
                    </div>
                </div>
                <input id="self_author" name="author" type="hidden" value="{{ request.user.id }}">
                <input id="self_board_owner" name="board_owner" type="hidden" value="{{ request.user.id }}">
                <input id="self_parent" name="parent" type="hidden">
                <div class="row">
                    <div class="col s12">
                        <button type="submit" id="sendselfformpubli"
                        class="waves-effect waves-light btn right blue">
                        Enviar<i class="material-icons right">send</i></button>
                        <button type="button"
                        class="waves-effect waves-light btn right transparent black-text close">Cerrar<i
                        class="material-icons right">close</i></button>
                        <div class="file-field">
                            <div class="btn blue lighten-2">
                                <span><i class="material-icons md-24" aria-hidden="true">photo_camera</i></span>
                                <input id="id_image_self" name="image" type="file" multiple>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text"
                                placeholder="Subir imágenes o videos">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    {% endblock %}
    {% block shortcuts %}
    <!-- Atajos del usuario -->
    <div class="default-div" id="atajos-keyboard-profile">
        <table class="responsive-table highlight modal-table" summary="Atajos para acciones comunes.">
            <caption class="hide-on-med-and-down atajos-title">
                <p>Atajos de teclado</p>
                <i class="material-icons close-shortcuts">remove</i>
            </caption>
            <thead>
                <tr class="acc-atajos">
                    <th colspan="2">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="shortcut">
                        <b class="sc-key">m</b>
                    </td>
                    <td class="shortcut-label">Nuevo comentario</td>
                </tr>
                <tr>
                    <td class="shortcut">
                        <b class="sc-key">f</b>
                    </td>
                    <td class="shortcut-label">Favorito</td>
                </tr>
                <tr>
                    <td class="shortcut">
                        <b class="sc-key">a</b>
                    </td>
                    <td class="shortcut-label">Abrir atajos</td>
                </tr>
                <tr>
                    <td class="shortcut">
                        <b class="sc-key">b</b>
                    </td>
                    <td class="shortcut-label">Bloquear usuario</td>
                </tr>
                <tr>
                    <td class="shortcut">
                        <b class="sc-key">/</b>
                    </td>
                    <td class="shortcut-label">Buscar</td>
                </tr>
                <tr>
                    <td class="shortcut">
                        <b class="sc-key">Ctrl</b>
                        +
                        <b class="sc-key">Enter</b>
                    </td>
                    <td class="shortcut-label">Enviar comentario</td>
                </tr>
            </tbody>
        </table>
    </div>
    {% endblock %}
    {% block create-group %}
    <div class="row">
        <div id="create_group" class="col l5 m12 s12 compose-div default-div" style="display: none;">
            <form id="from_new_group" method="post" enctype="multipart/form-data">{% csrf_token %}
                <div class="row">
                    {{ groupForm.name.errors }}
                    <div class="input-field col s12">
                        <i class="material-icons prefix">title</i>
                        {{ groupForm.name }}
                        <label for="id_name">Escribe un nombre para el grupo.</label>
                    </div>
                </div>
                <div class="row">
                    {{ groupForm.description.errors }}
                    <div class="input-field col s12">
                        <i class="material-icons prefix">description</i>
                        {{ groupForm.description }}
                        <label for="id_description">Escribe una descripcion para el grupo.</label>
                    </div>
                </div> 
                <div class="row">
                    <div class="file-field input-field">
                        <div class="btn blue lighten-2">
                            <span>Avatar</span>
                            {{ groupForm.avatar }}
                        </div>
                        <div class="file-path-wrapper">
                            <input class="file-path validate" type="text">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="file-field input-field">
                        <div class="btn blue lighten-2">
                            <span>Cabecera</span>
                            {{ groupForm.back_image }}
                        </div>
                        <div class="file-path-wrapper">
                            <input class="file-path validate" type="text">
                        </div>
                    </div>
                </div>
                <div class="row">
                    {{ groupForm.tags.errors }}
                    <div class="input-field col s12">
                        <i class="material-icons prefix">bookmark</i>
                        {{ groupForm.tags }}
                        <label for="id_tags">Introduce una "," para añadir un nuevo tema. (Música, Deporte)</label>
                    </div>
                </div>
                <div class="row">
                    {{ groupForm.is_public.errors }}
                    <div class="col s12">
                        <i class="material-icons prefix"></i>
                        {{ groupForm.is_public }}
                        <label for="id_is_public">Active esta casilla para hacer el grupo privado.</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <button type="submit" id="btn_new_group"
                        class="waves-effect waves-light btn right blue">
                        Crear grupo<i class="material-icons right">people</i></button>
                        <button type="submit" id="btn_close_group"
                        class="waves-effect waves-light btn right transparent black-text">
                        Cerrar<i class="material-icons right">close</i>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}
{% block feedback %}
{% include 'tellme/js_inc.html' %}
{% endblock %}
{% endif %}
{% comment "menu movil" %}
Menu para versiones tablet/movil
{% endcomment %}
{% include "account/mobile-menu.html" %}
{% block footer %}
{% compress js %}
<script src="{% static "emoji/js/textarea_find_emoji.js" %}" type="text/javascript"></script>
{% endcompress %}
{% endblock %}
</body>
</html>
