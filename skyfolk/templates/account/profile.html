{% extends "account/base_interface.html" %}
{% load app_filters %}
{% load tags_mentions %}
{% load avatar_tags %}
{% block title %} <title> Perfil de {{ user_profile.username }}</title> {% endblock %}
{% block include_files %}
<!-- Mostrar objetos al hacer scroll -->

{% endblock %}

{% block extra-js %}
  <script src="{{STATIC_URL}}js/scrollReveal.js"></script>
  <script src="{{STATIC_URL}}js/scrollReveal.min.js"></script>
  <script src="{{STATIC_URL}}js/list.min.js"></script>
{% endblock %}

{% block extra-css %}
    <link rel="stylesheet" type="text/css" href="{{STATIC_URL}}css/comentarios.css" />
    <link rel="stylesheet" href="{{STATIC_URL}}css/colorbox.css" /> <!-- Estilos para la galeria de fotos -->
    <link rel="stylesheet" type="text/css" href="{{STATIC_URL}}css/timeline.css" />
{% endblock %}

{% block content %}
<div class="container">
  <div class="col-lg-8 col-md-6 col-sm-12">
<!-- Contenedor principal, engloba el tablon, widgets... [IMPORTANTE]-->
    <div class="container">
    <!-- Para el diseño de la rama develop, se cambia col-md-6 por col-md-12 -->
        {% comment %} CARD USUARIO - FOTO PERFIL ETC...  {% endcomment %}
      {% include "account/card-user.html" %}
      {% comment %}
      PIN ARRIBA IZQUIERDA
      {% endcomment %}
        {% include "account/pin-left-top.html" %}
    <!-- PIN PEQUEÑO - 2 -->
        {% comment %}
        PIN ARRIBA DERECHA
        {% endcomment %}
        {% include "account/pin-right-top.html" %}

    </div>
      {% comment %}
        PIN ABAJO
      {% endcomment %}
    {% include "account/pin-bottom.html" %}

    <!-- Contenedor principal -->
    <div class="container">
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="container">
      <div class="col-lg-12">
         <nav class="ventana-pin">
           <a><i class="fa fa-times"></i></a>
           <a><i class="fa fa-expand"></i></a>
           <a><i class="fa fa-thumb-tack"></i></a>
         </nav>
      <div id="div-separator">
        <div class="sidebar card" id="tab-container">
          <ul class="unstyled table fullwidth links">
            <li class="tab" id="li-tab-timeline"><a href="#tab-timeline">timeline</a></li>
	    <li class="tab" id="li-tab-comentarios"><a href="#tab-comentarios">Comentarios</a></li>
            <li class="tab" id="li-tab-amigos"><a href="#tab-amigos">Seguidos</a></li>
          </ul>
          <div class="unstyled content" id="hood-tabs">
        {% comment %}
            Incluimos el tab timeline
        {% endcomment %}
        {% include "account/tab-timeline.html" %}
        {% comment %}
            Incluimos el tab comentarios
        {% endcomment %}
        {% include "account/tab-comentarios.html" %}
        {% comment %}
            Incluimos el tab amigos
        {% endcomment %}
        {% include "account/tab-amigos.html" %}
          {% comment %}
    <!-- <div class="col-lg-12 col-sm-12 col-md-12"> -->
        <!-- <div class="weather card"> -->
     <!-- <div class="widget-right-down">
          <div class="current">
              <div class="col-sm-12 col-md-12 col-lg-12">
              <div class="follower-card">
                <div class="follower-tab">
                  <div class="follower-tab-personas">
                  A quien seguir
                  </div>
                  <div class="follower-tab-grupos">
                  Grupos
                  </div>
                </div>
                  {% for item in listR %}
                      {% if item.username != user_profile.username %}
                 <div class="follower-sug">
                      {% if item.user__profile__image and item.user__profile__image|file_exists %}
                      <img  class="sug-user" src="{{MEDIA_URL}}{{item.user__profile__image}}">
                      <span class="name-sug">
                      <a class="random-sug" href="/profile/{{ item.username }}">{{item.user__first_name}} {{item.user__last_name}} ({{item.user__username}})</a>
                      <button class="add-sug"><i class="fa fa-plus"></i>Seguir</button>
                      </span>
                      {% else %}
                     <img class="sug-user" src="{{STATIC_URL}}img/nuevo.png">
                      <span class="name-sug">
                      <a class="random-sug" href="/profile/{{ item.username }}">{{item.user__first_name}} {{item.user__last_name}} ({{item.username}})</a>
                     <button class="add-sug"><i class="fa fa-plus"></i>Seguir</button>
                      </span>
                       {% endif %}
                      </div>
                      {% endif %}
                    {% endfor %}
                  </div>

              </div>

          </div>
  </div> -->
  {% endcomment %}
<!-- This contains the hidden content for inline calls -->
          {% comment %}
          GALERIA DE IMÁGENES DEL PERFIL
          {% endcomment %}
{% include "account/profile-gallery.html" %}

<!-- IGNORAR, SOLO MUESTRA OBJETOS AL HACER SCROLL -->
    <script>

      window.sr = new scrollReveal(config);

    </script>

     <script>
      var config = {
        easing: 'hustle',
        reset:  true,
        delay:  'once',
        vFactor: 0.60,
          viewport: document.getElementById('tab-timeline')
      }

      window.sr = new scrollReveal( config );

    </script>

    <script type="text/javascript">


   //first set the value you will be using.
   var STATIC_URL = "{{STATIC_URL}}"; // and anything else you need to set
   var MEDIA_URL = "{{MEDIA_URL}}";

   var requests = jQuery.parseJSON( '{{json_requestsToMe|safe}}' );
   var stopRequests = false;
   var idRequestsTimer = null;

   if(requests){
      idRequestsTimer = setInterval(function(){ if(requests.length > 0){ item = requests.pop();showRequest(item.id_profile, item.username); }else if(idRequestsTimer != null){ clearInterval(idRequestsTimer); } }, 1500);

    }

</script>

<!-- Esto es para las menciones a usuarios -->
    <!--
<script type="text/javascript">
$(document).ready(function() {
  $.ajax({
    url: '/get_mentions/',
    type: 'POST',
    data: {
      'slug': $("#profileId").html(),
    },
    dataType: 'json',
    success: function(data) {
      $("#message2").mention({
          queryBy: ['name', 'username'],
          users: [{
              username: "sarah",
              name: "Sarah Jones",
              image: "http://placekitten.com/25/25"
          }, {
              username: "bigCat",
              name: "Scott Pfaff",
              image: "http://placekitten.com/25/25"
          }, {
              username: "coderDude",
              name: "Roger Penn",
              image: "http://placekitten.com/25/25"
          }]
      });
    },
    error: function(rs, e) {
      alert("No se puede.");
    }
  });
});

</script> -->
<!-- Busqueda en tab-amigos -->
<script>
  var options = {
    valueNames: [ 'name' ],
    indexAsync : true
  };

  var userList = new List('tab-amigos', options);

</script>

  {% if liked == True %}

    <style type="text/css">
        #ilike_profile {
            color: #ec407a;
        }
    </style>


  {% endif %}

  {% if isFriend == True %}

    <style type="text/css">
        #addfriend {
            color: #29b203;
        }
    </style>
  {% endif %}

{% endblock %}