var UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}(),UTILS_N=UTILS_N||function(){var a={};return{init:function(b){a=b},conn_socket:function(){var a="https:"==window.location.protocol?"wss":"ws",b=a+"://"+window.location.host+window.location.pathname+"notification/";console.log("Connecting to "+b);var c=new ReconnectingWebSocket(b);c.onmessage=function(a){console.log("Got message "+a.data);var b=JSON.parse(a.data),c='<li class="collection-item avatar" data-id="'+b.id+'">';c+='<a onclick="AJAX_mark_read(this)" class="fa fa-remove" id="mark-as-read-notification" data-notification="'+b.slug+'"/></a>',null!==b.actor_avatar&&void 0!==b.actor_avatar&&(c=c+' <img class="circle" src="'+b.actor_avatar+'"/>'),void 0!==b.actor&&"new_follow"!==b.level&&(c=c+'<a class="title" href="/profile/'+b.actor+'" >'+b.actor+"</a>"),void 0!==b.verb&&(c=c+' <span class="title"/>'+b.verb+"</span>"),void 0!==b.target&&(c=c+" "+b.target),void 0!==b.description&&null!=b.description&&(c=c+" "+b.description),void 0!==b.timestamp&&(c=c+"<p><i>"+b.timestamp+"</i></p>"),void 0!==b.level&&"friendrequest"==b.level&&(c=c+' <div class="notification-buttons"><button data-notification="'+b.slug+'" onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','accept','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="accept-response waves-effect waves-light btn white-text green"><i class="material-icons">done</i></button><button data-notification="'+b.slug+'"onclick="AJAX_respondFriendRequest(\''+b.actor_object_id+"','rejected','"+b.id+"'); AJAX_delete_notification('"+b.slug+"','"+b.id+'\')" class="rejected-response waves-effect waves-light btn white-text red"> <i class="material-icons">cancel</i></button></div>'),c+='<a href="#!" class="secondary-content"><i class="material-icons">people</i></a></li>';var d=$("#list-notify"),e=$(d).find("[data-id='"+b.id+"']");if(e.length)e.html(c);else{$(d).prepend(c);var f=$("#live_notify_badge");$(f).html(parseInt($(f).html(),10)+1)}},c.readyState==WebSocket.OPEN&&c.onopen(),c.onclose=function(){console.log("No connected.")}}}}();